<html>

<head>
  <title>DumbWays</title>
  <link rel="icon" href="public/assets/logo.png" />
  <link rel="stylesheet" type="text/css" href="public/styles.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>

<body class="bg-content">
  <nav id="navbar" class="navbar navbar-expand-lg navbar-light pe-4 sticky-sm-top nav-cream">
    <div class="container-fluid px-5">
      <a class="navbar-brand me-3 px-4" href="#"><img src="public/assets/logo.png" /></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active me-3" aria-current="page" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active text-orange" aria-current="page" href="/project-add">Add Project</a>
          </li>
        </ul>
        <a href="/contact" class="btn btn-navy btn-rounded">Contact Me</a>
      </div>
    </div>
  </nav>
  <div>
    <div class="container container-width">
      <div class="h2 text-center mt-4 mb-3 fw-bold">EDIT MY PROJECT</div>
      <form class="fw-bold" method="post" action='/project-edit?id={{this.id}}' enctype="multipart/form-data">
        <div class="mb-3">
          <label for="input-name">Project Name</label>
          <input type="text" class="form-control py-2" type="text" id="input-name" name="name"
            value="{{dataProject.name}}" required />
        </div>
        <div class="mb-3 row">
          <div class="col-6">
            <label for="input-start">Start Date</label>
            <input class="form-control py-2" type="date" id="input-start" name="dateStart"
              value="{{dataProject.dateStart}}" required />
          </div>
          <div class="col-6">
            <label for="input-end">End Date</label>
            <input class="form-control py-2" type="date" id="input-end" name="dateEnd" value="{{dataProject.dateEnd}}"
              required />
          </div>
        </div>
        <div class="mb-3">
          <label for="input-desc">Description</label>
          <textarea rows="5" class="form-control py-2" id="input-desc" name="description"
            required>{{dataProject.description}}</textarea>
        </div>
        <div>
          <label>Technologies</label>
        </div>
        <div class="d-flex row mb-1" id="checkboxes">
          {{#each techs}}
          <div class="col-6 check-tech">
            {{#if this.isChecked}}
            <input value="{{@index}}" type="checkbox" id="tech_{{@index}}" name="checked" checked />
            {{else}}
            <input value="{{@index}}" type="checkbox" id="tech_{{@index}}" name="checked" />
            {{/if}}
            <label for="tech_{{@index}}">{{this.name}}</label>
          </div>
          {{/each}}
        </div>
        <div class="mb-3">
          <div><label for="choose-file" class="form-label">Upload image</label></div>
          <img id="imagePre" src="public/uploads/{{dataProject.image}}" alt=""
            style="width: 220px; height: 150px; object-fit: cover; margin-bottom: 7px; border-radius: 4%;">
          <input class="form-control" type="file" id="fileImage" name="image" />
        </div>
        <div class="d-flex justify-content-end">
          <button class="btn btn-navy px-4 rounded-pill fw-bold" type="submit">
            submit
          </button>
        </div>
      </form>
    </div>
  </div>
  <script>
    fileImage.onchange = evt => {
      const [file] = fileImage.files
      if (file) {
        imagePre.src = URL.createObjectURL(file)
      }
    }
  </script>
</body>

</html>